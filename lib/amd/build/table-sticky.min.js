define(["jquery"],function(a){var b,c={top:"",right:"",bottom:"",left:""},d=function(){var b=function(){var a=document.createElement("a"),b=a.style;return b.cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",b.position.indexOf("sticky")!==-1}(),c=function(){var b=a('<div dir="rtl" style="font-size: 14px; width: 4px; height: 1px; position: absolute; top: -1000px; overflow: scroll">ABCD</div>').appendTo("body")[0],c="reverse";return b.scrollLeft>0?c="default":(b.scrollLeft=1,0===b.scrollLeft&&(c="negative")),a(b).remove(),c}();b||(navigator.userAgent.match(/Trident\/7\./)&&a(".sticky-table").on("mousewheel",function(b){b.preventDefault();var c=b.originalEvent.wheelDelta,d=a(this).scrollTop();a(this).scrollTop(d-c)}),a(".sticky-table").scroll(function(){a(this).find("table tr.sticky-header th").css("top",a(this).scrollTop()),a(this).find("table tr.sticky-header td").css("top",a(this).scrollTop());var b=a(this).find("table").prop("clientHeight")-a(this).prop("clientHeight");a(this).find("table tr.sticky-footer th").css("bottom",b-a(this).scrollTop()),a(this).find("table tr.sticky-footer td").css("bottom",b-a(this).scrollTop())}).scroll(),a(".sticky-ltr-cells").scroll(function(){a(this).find("table th.sticky-cell").css("left",a(this).scrollLeft()),a(this).find("table td.sticky-cell").css("left",a(this).scrollLeft());var b=a(this).find("table").prop("clientWidth")-a(this).prop("clientWidth");a(this).find("table th.sticky-cell-opposite").css("right",b-a(this).scrollLeft()),a(this).find("table td.sticky-cell-opposite").css("right",b-a(this).scrollLeft())}).scroll()),!a(".sticky-rtl-cells").length||b&&"negative"==c||(b&&(a(".sticky-rtl-cells table th.sticky-cell").css("position","relative"),a(".sticky-rtl-cells table td.sticky-cell").css("position","relative"),a(".sticky-rtl-cells table th.sticky-cell-opposite").css("position","relative"),a(".sticky-rtl-cells table td.sticky-cell-opposite").css("position","relative"),a(".sticky-table").scroll(function(){a(this).find("table tr.sticky-header .sticky-cell").css("top",a(this).scrollTop()),a(this).find("table tr.sticky-header .sticky-cell-opposite").css("top",a(this).scrollTop());var b=a(this).find("table").prop("clientHeight")-a(this).prop("clientHeight");a(this).find("table tr.sticky-footer .sticky-cell").css("bottom",b-a(this).scrollTop()),a(this).find("table tr.sticky-footer .sticky-cell-opposite").css("bottom",b-a(this).scrollTop())}).scroll()),a(".sticky-rtl-cells").scroll(function(){var b=a(this).find("table").prop("clientWidth")-a(this).prop("clientWidth");switch(c){case"default":a(this).find("table th.sticky-cell").css("right",b-a(this).scrollLeft()),a(this).find("table td.sticky-cell").css("right",b-a(this).scrollLeft()),a(this).find("table th.sticky-cell-opposite").css("left",a(this).scrollLeft()),a(this).find("table td.sticky-cell-opposite").css("left",a(this).scrollLeft());break;case"negative":a(this).find("table th.sticky-cell").css("right",a(this).scrollLeft()*-1),a(this).find("table td.sticky-cell").css("right",a(this).scrollLeft()*-1),a(this).find("table th.sticky-cell-opposite").css("left",b+a(this).scrollLeft()),a(this).find("table td.sticky-cell-opposite").css("left",b+a(this).scrollLeft());break;case"reverse":a(this).find("table th.sticky-cell").css("right",a(this).scrollLeft()),a(this).find("table td.sticky-cell").css("right",a(this).scrollLeft()),a(this).find("table th.sticky-cell-opposite").css("left",b-a(this).scrollLeft()),a(this).find("table td.sticky-cell-opposite").css("left",b-a(this).scrollLeft())}}).scroll())},e=function(){return!b.parent().hasClass("sticky-table")&&0!=b.length&&(b.wrap('<div class="sticky-table sticky-ltr-cells"></div>'),a(c.top).addClass("sticky-header"),a(c.bottom).addClass("sticky-footer"),a(c.left).addClass("sticky-cell"),a(c.right).addClass("sticky-cell-opposite"),!0)},f=function(){var a=document.documentElement.clientWidth;b.parent().css("max-width",a-100)},g=function(){e()&&(f(),d())};return{init:function(e){c=e.stickies,a(document).on("sticky-table",d),a(document).on("init-sticky-table",g),b=a(".gradereport-grader-table"),a(document).trigger("init-sticky-table"),b.parent().scroll(function(){a(document).trigger("sticky-table")});var h;a(window).resize(function(){h&&clearTimeout(h),h=setTimeout(function(){a(".wrapper").trigger("sticky-table"),f()},500)})},stickies:c}});